<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ê¨¢‰πêAIÊñóÂú∞‰∏ª</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>

<body>
    <!-- Ê∏∏Êàè‰∏ªÂÆπÂô® -->
    <div class="game-container">
        <!-- È°∂ÈÉ®ÊéßÂà∂Âå∫ -->
        <div class="top-control-area">
            <!-- Ê∏∏ÊàèÁä∂ÊÄÅÂå∫ -->
            <div class="game-state-panel">
                <div class="state-title">Ê∏∏ÊàèÁä∂ÊÄÅ</div>
                <div id="gameState" class="state-content">Á≠âÂæÖÂºÄÂßã...</div>
            </div>

            <!-- Ê∏∏ÊàèÊéßÂà∂Èù¢Êùø -->
            <div class="control-panel">
                <button class="btn btn-primary" id="btnStartGame">ÂºÄÂßãÊ∏∏Êàè</button>
                <button class="btn btn-secondary" id="btnRestart">ÈáçÊñ∞ÂºÄÂßã</button>
                <button class="btn btn-secondary" id="btnSettings">ËÆæÁΩÆ</button>
            </div>
        </div>

        <!-- Â∑¶‰æßÁé©ÂÆ∂ÔºöÂÜúÊ∞ëÁî≤ -->
        <div class="player-area player-left" id="farmerA">
            <div class="player-info">
                <div class="player-avatar-container">
                    <img src="{{ url_for('static', filename='farmer1.png') }}" alt="ÂÜúÊ∞ëÁî≤" class="player-avatar">
                    <img src="{{ url_for('static', filename='deepseek.png') }}" alt="AI" class="ai-badge"
                        id="farmerABadge" style="display: none;">
                </div>
                <div class="player-name">ÂÜúÊ∞ëÁî≤</div>
                <div class="player-type" id="farmerAType">‰∫∫Á±ª</div>
                <div class="card-count" id="farmerACount">17Âº†</div>
            </div>
            <div class="player-last-play" id="farmerALastPlay"></div>
            <div class="player-cards vertical-cards" id="farmerACards"></div>
        </div>

        <!-- Âè≥‰æßÁé©ÂÆ∂ÔºöÂÜúÊ∞ë‰πô -->
        <div class="player-area player-right" id="farmerB">
            <div class="player-info">
                <div class="player-avatar-container">
                    <img src="{{ url_for('static', filename='farmer2.png') }}" alt="ÂÜúÊ∞ë‰πô" class="player-avatar">
                    <img src="{{ url_for('static', filename='deepseek.png') }}" alt="AI" class="ai-badge"
                        id="farmerBBadge" style="display: none;">
                </div>
                <div class="player-name">ÂÜúÊ∞ë‰πô</div>
                <div class="player-type" id="farmerBType">‰∫∫Á±ª</div>
                <div class="card-count" id="farmerBCount">17Âº†</div>
            </div>
            <div class="player-last-play" id="farmerBLastPlay"></div>
            <div class="player-cards vertical-cards" id="farmerBCards"></div>
        </div>

        <!-- ‰∏≠Èó¥ÁâåÊ°åÂå∫Âüü -->
        <div class="table-area">
            <div class="table-center">
                <div class="table-logo">AIÊñóÂú∞‰∏ª</div>
                <div class="last-play-area" id="lastPlayArea">
                    <div class="last-play-label">‰∏äÂÆ∂Âá∫Áâå</div>
                    <div class="last-play-cards" id="lastPlayCards"></div>
                </div>
            </div>
        </div>

        <!-- Â∫ïÈÉ®Áé©ÂÆ∂ÔºöÂú∞‰∏ª -->
        <div class="player-area player-bottom" id="landlord">
            <div class="player-info">
                <div class="player-avatar-container">
                    <img src="{{ url_for('static', filename='landlord.png') }}" alt="Âú∞‰∏ª" class="player-avatar">
                    <img src="{{ url_for('static', filename='deepseek.png') }}" alt="AI" class="ai-badge"
                        id="landlordBadge" style="display: none;">
                </div>
                <div class="player-name">Âú∞‰∏ª üëë</div>
                <div class="player-type" id="landlordType">‰∫∫Á±ª</div>
                <div class="card-count" id="landlordCount">20Âº†</div>
            </div>
            <div class="player-last-play" id="landlordLastPlay"></div>
            <div class="player-cards horizontal-cards" id="landlordCards"></div>

            <!-- Áé©ÂÆ∂Êìç‰ΩúÂå∫ -->
            <div class="player-actions" id="playerActions">
                <button class="btn btn-play" id="btnPlay">Âá∫Áâå</button>
                <button class="btn btn-pass" id="btnPass">‰∏çÂá∫</button>
                <button class="btn btn-hint" id="btnHint">ÊèêÁ§∫</button>
            </div>
        </div>

        <!-- Â∑¶‰æßÁé©ÂÆ∂ÔºöÂÜúÊ∞ëÁî≤ -->
        <div id="settingsModal" class="modal">
            <div class="modal-content">
                <div class="modal-header">
                    <h2>Ê∏∏ÊàèËÆæÁΩÆ</h2>
                    <span class="close">&times;</span>
                </div>
                <div class="modal-body">
                    <div class="setting-item">
                        <label>Âú∞‰∏ªÔºö</label>
                        <select id="landlordPlayerType">
                            <option value="human">‰∫∫Á±ª</option>
                            <option value="ai">AI</option>
                        </select>
                    </div>
                    <div class="setting-item">
                        <label>ÂÜúÊ∞ëÁî≤Ôºö</label>
                        <select id="farmerAPlayerType">
                            <option value="human">‰∫∫Á±ª</option>
                            <option value="ai" selected>AI</option>
                        </select>
                    </div>
                    <div class="setting-item">
                        <label>ÂÜúÊ∞ë‰πôÔºö</label>
                        <select id="farmerBPlayerType">
                            <option value="human">‰∫∫Á±ª</option>
                            <option value="ai" selected>AI</option>
                        </select>
                    </div>
                </div>
                <div class="modal-footer">
                    <button class="btn btn-primary" id="btnSaveSettings">Á°ÆÂÆö</button>
                    <button class="btn btn-secondary" id="btnCancelSettings">ÂèñÊ∂à</button>
                </div>
            </div>
        </div>

        <!-- Ê∏∏ÊàèÁªìÊùüÊ®°ÊÄÅÊ°Ü -->
        <div id="gameOverModal" class="modal">
            <div class="modal-content">
                <div class="modal-header">
                    <h2>Ê∏∏ÊàèÁªìÊùü</h2>
                </div>
                <div class="modal-body">
                    <div class="winner-announcement" id="winnerText"></div>
                </div>
                <div class="modal-footer">
                    <button class="btn btn-primary" id="btnPlayAgain">ÂÜçÊù•‰∏ÄÂ±Ä</button>
                </div>
            </div>
        </div>

        <!-- Âä†ËΩΩÊèêÁ§∫ -->
        <div id="loadingOverlay" class="loading-overlay" style="display: none;">
            <div class="loading-spinner"></div>
            <div class="loading-text">AIÊÄùËÄÉ‰∏≠...</div>
        </div>

        <script src="https://cdn.socket.io/4.5.4/socket.io.min.js"></script>
        <script src="{{ url_for('static', filename='cards.js') }}"></script>
        <script src="{{ url_for('static', filename='game.js') }}"></script>
</body>

</html>